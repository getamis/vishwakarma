<!-- DO NOT EDIT. THIS FILE IS GENERATED BY THE MAKEFILE. -->
# Terraform variable inputs and outputs
This document gives an overview of variables used in the AWS platform of the elastikube module.
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.5.0 |
| <a name="requirement_ignition"></a> [ignition](#requirement\_ignition) | 2.1.2 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | n/a |

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_etcd"></a> [etcd](#module\_etcd) | ../../aws/kube-etcd | n/a |
| <a name="module_master"></a> [master](#module\_master) | ../../aws/kube-master | n/a |

## Resources

| Name | Type |
|------|------|
| [aws_route53_zone.private](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/route53_zone) | resource |
| [aws_s3_bucket.ignition](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket) | resource |
| [aws_s3_bucket_acl.ignition](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_acl) | resource |
| [aws_s3_bucket_ownership_controls.ignition](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_ownership_controls) | resource |
| [aws_s3_bucket_public_access_block.ignition](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_public_access_block) | resource |
| [aws_security_group.workers](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group) | resource |
| [aws_security_group_rule.master_ingress_cilium_hubble_relay_from_worker](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.master_ingress_cilium_icmp_healthcheck_from_worker](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.master_ingress_cilium_tcp_healthcheck_from_worker](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.master_ingress_cilium_vxlan_from_worker](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.master_ingress_flannel_from_worker](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.worker_ingress_cilium_icmp_healthcheck_from_master](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.worker_ingress_cilium_tcp_healthcheck_from_master](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.worker_ingress_cilium_vxlan_from_master](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.worker_ingress_flannel](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.worker_ingress_flannel_from_master](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.workers_egress_internet](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.workers_ingress_cluster](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.workers_ingress_self](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.workers_ingress_ssh](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.workers_to_coredns_metrics](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.workers_to_coredns_tcp](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_security_group_rule.workers_to_coredns_udp](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group_rule) | resource |
| [aws_subnet.subnet](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/subnet) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_allowed_etcd_mgmt_cidr"></a> [allowed\_etcd\_mgmt\_cidr](#input\_allowed\_etcd\_mgmt\_cidr) | (Option) A list of CIDR networks to allow to manage etcd cluster. | `list(string)` | `[]` | no |
| <a name="input_allowed_ssh_cidr"></a> [allowed\_ssh\_cidr](#input\_allowed\_ssh\_cidr) | (Optional) A list of CIDR networks to allow ssh access to. | `list(string)` | `[]` | no |
| <a name="input_annotate_pod_ip"></a> [annotate\_pod\_ip](#input\_annotate\_pod\_ip) | (Optional) enable to fix pod startup connectivity issue on installing Calico with aws-vpc-cni plugin. (Issue: https://github.com/aws/amazon-vpc-cni-k8s/issues/493) | `bool` | `false` | no |
| <a name="input_auth_webhook_kubeconfig_path"></a> [auth\_webhook\_kubeconfig\_path](#input\_auth\_webhook\_kubeconfig\_path) | The path of webhook kubeconfig for kube-apiserver. | `string` | `"/etc/kubernetes/config/aws-iam-authenticator/kubeconfig"` | no |
| <a name="input_certs_validity_period_hours"></a> [certs\_validity\_period\_hours](#input\_certs\_validity\_period\_hours) | Validity period of the self-signed certificates (in hours). Default is 10 years. | `string` | `87600` | no |
| <a name="input_debug_mode"></a> [debug\_mode](#input\_debug\_mode) | Enable the functionailty for trouble shooting, e.g. sshd | `bool` | `false` | no |
| <a name="input_enable_asg_life_cycle"></a> [enable\_asg\_life\_cycle](#input\_enable\_asg\_life\_cycle) | (Optional) enable ASG life cycle hook or not | `bool` | `true` | no |
| <a name="input_enable_eni_prefix"></a> [enable\_eni\_prefix](#input\_enable\_eni\_prefix) | (Optional) assign prefix to AWS EC2 network interface | `bool` | `true` | no |
| <a name="input_enable_iam_auth"></a> [enable\_iam\_auth](#input\_enable\_iam\_auth) | Enable AWS IAM authenticator or not. | `bool` | `false` | no |
| <a name="input_enable_irsa"></a> [enable\_irsa](#input\_enable\_irsa) | (Optional) Enable AWS IAM role service account or not | `bool` | `false` | no |
| <a name="input_enable_network_policy"></a> [enable\_network\_policy](#input\_enable\_network\_policy) | (Optional) [AWS VPC CNI] Enable AWS Network Policy Agent. | `bool` | `false` | no |
| <a name="input_endpoint_public_access"></a> [endpoint\_public\_access](#input\_endpoint\_public\_access) | (Optional) kubernetes apiserver endpoint | `bool` | `false` | no |
| <a name="input_etcd_instance_config"></a> [etcd\_instance\_config](#input\_etcd\_instance\_config) | (Optional) Desired etcd nodes configuration. | <pre>object({<br>    count              = number<br>    image_id           = string<br>    ec2_type           = string<br>    root_volume_size   = number<br>    data_volume_size   = number<br>    data_device_name   = string<br>    data_device_rename = string<br>    data_path          = string<br>  })</pre> | <pre>{<br>  "count": 1,<br>  "data_device_name": "/dev/sdf",<br>  "data_device_rename": "/dev/nvme1n1",<br>  "data_path": "/var/lib/etcd",<br>  "data_volume_size": 100,<br>  "ec2_type": "t3.medium",<br>  "image_id": "ami-0b75e2f157200889f",<br>  "root_volume_size": 40<br>}</pre> | no |
| <a name="input_etcd_instance_volume_config"></a> [etcd\_instance\_volume\_config](#input\_etcd\_instance\_volume\_config) | n/a | <pre>object({<br>    root = object({<br>      type       = string<br>      iops       = number<br>      throughput = number<br>    })<br>    data = object({<br>      type       = string<br>      iops       = number<br>      throughput = number<br>    })<br>  })</pre> | <pre>{<br>  "data": {<br>    "iops": 0,<br>    "throughput": 0,<br>    "type": "gp2"<br>  },<br>  "root": {<br>    "iops": 0,<br>    "throughput": 0,<br>    "type": "gp2"<br>  }<br>}</pre> | no |
| <a name="input_external_snat"></a> [external\_snat](#input\_external\_snat) | (Optional) [AWS VPC CNI] Specifies whether an external NAT gateway should be used to provide SNAT of secondary ENI IP addresses. If set to true, the SNAT iptables rule and off-VPC IP rule are not applied, and these rules are removed if they have already been applied. | `bool` | `false` | no |
| <a name="input_extra_etcd_ignition_file_ids"></a> [extra\_etcd\_ignition\_file\_ids](#input\_extra\_etcd\_ignition\_file\_ids) | (Optional) Additional ignition file IDs for etcds. See https://www.terraform.io/docs/providers/ignition/d/file.html for more details. | `list(string)` | `[]` | no |
| <a name="input_extra_etcd_ignition_systemd_unit_ids"></a> [extra\_etcd\_ignition\_systemd\_unit\_ids](#input\_extra\_etcd\_ignition\_systemd\_unit\_ids) | (Optional) Additional ignition systemd unit IDs for etcds. See https://www.terraform.io/docs/providers/ignition/d/systemd_unit.html for more details. | `list(string)` | `[]` | no |
| <a name="input_extra_ignition_file_ids"></a> [extra\_ignition\_file\_ids](#input\_extra\_ignition\_file\_ids) | (Optional) Additional ignition file IDs for masters. See https://www.terraform.io/docs/providers/ignition/d/file.html for more details. | `list(string)` | `[]` | no |
| <a name="input_extra_ignition_systemd_unit_ids"></a> [extra\_ignition\_systemd\_unit\_ids](#input\_extra\_ignition\_systemd\_unit\_ids) | (Optional) Additional ignition systemd unit IDs for masters. See https://www.terraform.io/docs/providers/ignition/d/systemd_unit.html for more details. | `list(string)` | `[]` | no |
| <a name="input_extra_tags"></a> [extra\_tags](#input\_extra\_tags) | (Optional) Extra AWS tags to be applied to the resources. | `map(string)` | `{}` | no |
| <a name="input_hostzone"></a> [hostzone](#input\_hostzone) | (Optional) The cluster private hostname. If not specified, <cluster name>.com will be used. | `string` | `""` | no |
| <a name="input_irsa_oidc_config"></a> [irsa\_oidc\_config](#input\_irsa\_oidc\_config) | The service account config to enable pod identity feature | <pre>object({<br>    issuer        = string<br>    api_audiences = string<br>  })</pre> | <pre>{<br>  "api_audiences": "sts.amazonaws.com",<br>  "issuer": ""<br>}</pre> | no |
| <a name="input_kube_apiserver_secure_port"></a> [kube\_apiserver\_secure\_port](#input\_kube\_apiserver\_secure\_port) | The port on which to serve HTTPS with authentication and authorization for kube-apiserver. | `number` | `6443` | no |
| <a name="input_kube_audit_log_policy_content"></a> [kube\_audit\_log\_policy\_content](#input\_kube\_audit\_log\_policy\_content) | The policy content for auditing log. | `string` | `"# Log all requests at the Metadata level.\napiVersion: audit.k8s.io/v1\nkind: Policy\nrules:\n- level: Metadata\n"` | no |
| <a name="input_kube_cluster_network_cidr"></a> [kube\_cluster\_network\_cidr](#input\_kube\_cluster\_network\_cidr) | The kubernetes cluster ip range | `string` | `"172.24.0.0/13"` | no |
| <a name="input_kube_extra_flags"></a> [kube\_extra\_flags](#input\_kube\_extra\_flags) | The user-provided flags to kubelet, kube-apiserver, kube-controller-manager, kube-scheduler and audit log. <br>For flags, we need to follow component flag string format. Do not use underline. | `map(map(string))` | <pre>{<br>  "apiserver": {},<br>  "audit_log": {},<br>  "controller_manager": {},<br>  "kubelet": {},<br>  "scheduler": {}<br>}</pre> | no |
| <a name="input_kube_node_cidr_mask_size"></a> [kube\_node\_cidr\_mask\_size](#input\_kube\_node\_cidr\_mask\_size) | (Optional)[cilium-vxlan] Mask size for node cidr in cluster. | `number` | `24` | no |
| <a name="input_kube_service_network_cidr"></a> [kube\_service\_network\_cidr](#input\_kube\_service\_network\_cidr) | The kubernetes service ip range | `string` | `"172.16.0.0/13"` | no |
| <a name="input_kubelet_extra_config"></a> [kubelet\_extra\_config](#input\_kubelet\_extra\_config) | The user-provided configs to kubelet. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information. | `map` | `{}` | no |
| <a name="input_kubelet_node_labels"></a> [kubelet\_node\_labels](#input\_kubelet\_node\_labels) | Labels to add when registering the node in the cluster. Labels must be key=value pairs. | `list(string)` | `[]` | no |
| <a name="input_kubelet_node_taints"></a> [kubelet\_node\_taints](#input\_kubelet\_node\_taints) | Register the node with the given list of taints ("<key>=<value>:<effect>"). | `list(string)` | `[]` | no |
| <a name="input_kubernetes_version"></a> [kubernetes\_version](#input\_kubernetes\_version) | Desired Kubernetes version. | `string` | `"v1.27.7"` | no |
| <a name="input_lb_security_group_ids"></a> [lb\_security\_group\_ids](#input\_lb\_security\_group\_ids) | (Optional) List of security group IDs for the cross-account elastic network interfaces<br>    to use to allow communication to the kubernetes api server load balancer. | `list(string)` | `[]` | no |
| <a name="input_log_level"></a> [log\_level](#input\_log\_level) | Log level and verbosity of each components | <pre>object({<br>    aws_cloud_controller_manager = optional(string, "2")       # 2: Info, 3: Extended Info, 4: Debug, 5: Trace<br>    aws_vpc_cni                  = optional(string, "DEBUG")   # DEBUG, INFO, WARN, ERROR, FATAL<br>    containerd                   = optional(string, "info")    # trace, debug, info, warn, error, fatal, panic<br>    cilium_cni                   = optional(string, "DEBUG")   # DEBUG: enable debug logging, INFO: disable debug logging<br>    docker                       = optional(string, "info")    # debug, info, warn, error, fatal<br>    etcd                         = optional(string, "info")    # debug, info, warn, error, panic, fatal<br>    kube_apiserver               = optional(string, "2")       # 2: Info, 3: Extended Info, 4: Debug, 5: Trace<br>    kube_controller_manager      = optional(string, "2")       # 2: Info, 3: Extended Info, 4: Debug, 5: Trace<br>    kube_scheduler               = optional(string, "2")       # 2: Info, 3: Extended Info, 4: Debug, 5: Trace<br>    kube_proxy                   = optional(string, "2")       # 2: Info, 3: Extended Info, 4: Debug, 5: Trace<br>    kubelet                      = optional(string, "2")       # 2: Info, 3: Extended Info, 4: Debug, 5: Trace<br>    systemd_networkd             = optional(string, "warning") # emerg, alert, crit, err, warning, notice, info, debug<br>  })</pre> | <pre>{<br>  "aws_cloud_controller_manager": "2",<br>  "aws_vpc_cni": "DEBUG",<br>  "cilium_cni": "DEBUG",<br>  "containerd": "info",<br>  "docker": "info",<br>  "etcd": "info",<br>  "kube_apiserver": "2",<br>  "kube_controller_manager": "2",<br>  "kube_proxy": "2",<br>  "kube_scheduler": "2",<br>  "kubelet": "2",<br>  "systemd_networkd": "warning"<br>}</pre> | no |
| <a name="input_master_instance_config"></a> [master\_instance\_config](#input\_master\_instance\_config) | (Optional) Desired master nodes configuration. | <pre>object({<br>    count            = number<br>    image_id         = string<br>    ec2_type         = list(string)<br>    root_volume_iops = number<br>    root_volume_size = number<br>    root_volume_type = string<br><br>    default_cooldown          = number<br>    health_check_grace_period = number<br><br>    suspended_processes = list(string)<br><br>    instance_refresh       = bool<br>    instance_warmup        = number<br>    min_healthy_percentage = number<br><br>    on_demand_base_capacity                  = number<br>    on_demand_percentage_above_base_capacity = number<br>    spot_instance_pools                      = number<br>    spot_allocation_strategy                 = string<br>  })</pre> | <pre>{<br>  "count": 1,<br>  "default_cooldown": 300,<br>  "ec2_type": [<br>    "t3.medium",<br>    "t2.medium"<br>  ],<br>  "health_check_grace_period": 300,<br>  "image_id": "ami-0b75e2f157200889f",<br>  "instance_refresh": false,<br>  "instance_warmup": 30,<br>  "min_healthy_percentage": 100,<br>  "on_demand_base_capacity": 0,<br>  "on_demand_percentage_above_base_capacity": 100,<br>  "root_volume_iops": 100,<br>  "root_volume_size": 256,<br>  "root_volume_type": "gp2",<br>  "spot_allocation_strategy": "lowest-price",<br>  "spot_instance_pools": 1,<br>  "suspended_processes": []<br>}</pre> | no |
| <a name="input_master_instance_spot_max_price"></a> [master\_instance\_spot\_max\_price](#input\_master\_instance\_spot\_max\_price) | Desired master nodes spot maximum price, default is the on-demand price. | `string` | `""` | no |
| <a name="input_max_pods"></a> [max\_pods](#input\_max\_pods) | (Optional) the max pod number in the node when enable eni prefix | `string` | `"110"` | no |
| <a name="input_name"></a> [name](#input\_name) | (Required) Name of the cluster. | `string` | n/a | yes |
| <a name="input_network_plugin"></a> [network\_plugin](#input\_network\_plugin) | Desired network plugin which is use for Kubernetes cluster. e.g. 'flannel', 'amazon-vpc', 'cilium-vxlan' | `string` | `"amazon-vpc"` | no |
| <a name="input_override_binaries"></a> [override\_binaries](#input\_override\_binaries) | Desired binaries(etcd, kubelet, cni\_plugin) url and checksum. | <pre>map(object({<br>    source   = string<br>    checksum = string<br>  }))</pre> | `{}` | no |
| <a name="input_override_components_resource"></a> [override\_components\_resource](#input\_override\_components\_resource) | Desired resource requests and limits of kubernetes components(kube-apiserver, kube-controller-manager, kube-scheduler, etc.) | <pre>map(object({<br>    cpu_request    = string<br>    cpu_limit      = string<br>    memory_request = string<br>    memory_limit   = string<br>  }))</pre> | `{}` | no |
| <a name="input_override_containers"></a> [override\_containers](#input\_override\_containers) | Desired containers(kube-apiserver, kube-controller-manager, cfssl, coredns, and so on) repo and tag. | <pre>map(object({<br>    repo = string<br>    tag  = string<br>  }))</pre> | `{}` | no |
| <a name="input_private_subnet_ids"></a> [private\_subnet\_ids](#input\_private\_subnet\_ids) | (Required) List of private subnet IDs. Must be in at least two different availability zones.<br>    Cross-account elastic network interfaces will be created in these subnets to allow<br>    communication between your worker nodes and the Kubernetes control plane. | `list(string)` | `[]` | no |
| <a name="input_public_subnet_ids"></a> [public\_subnet\_ids](#input\_public\_subnet\_ids) | (Required) List of public subnet IDs. Must be in at least two different availability zones.<br>    Cross-account elastic network interfaces will be created in these subnets to allow<br>    communication between your worker nodes and the Kubernetes control plane. | `list(string)` | `[]` | no |
| <a name="input_reboot_strategy"></a> [reboot\_strategy](#input\_reboot\_strategy) | (Optional) CoreOS reboot strategies on updates, two option here: etcd-lock or off | `string` | `"off"` | no |
| <a name="input_role_name"></a> [role\_name](#input\_role\_name) | (Optional) The Amazon Resource Name (ARN) of the IAM role that provides permissions for the Kubernetes control plane to make calls to AWS API operations on your behalf. | `string` | `""` | no |
| <a name="input_security_group_ids"></a> [security\_group\_ids](#input\_security\_group\_ids) | (Optional) List of security group IDs for the cross-account elastic network interfaces<br>    to use to allow communication between your worker nodes and the Kubernetes control plane. | `list(string)` | `[]` | no |
| <a name="input_service_account_content"></a> [service\_account\_content](#input\_service\_account\_content) | The service account keypair content for Kubernetes. If keypair is empty, | <pre>object({<br>    pub_key = string<br>    pri_key = string<br>  })</pre> | <pre>{<br>  "pri_key": "",<br>  "pub_key": ""<br>}</pre> | no |
| <a name="input_ssh_key"></a> [ssh\_key](#input\_ssh\_key) | The key name that should be used for the instances. | `string` | `""` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_endpoint"></a> [endpoint](#output\_endpoint) | Kubernetes cluster endpoint. |
| <a name="output_etcd_role_name"></a> [etcd\_role\_name](#output\_etcd\_role\_name) | n/a |
| <a name="output_id"></a> [id](#output\_id) | Kubernetes cluster name. |
| <a name="output_ignition_s3_bucket"></a> [ignition\_s3\_bucket](#output\_ignition\_s3\_bucket) | The S3 bucket for storing provision ignition file |
| <a name="output_kubernetes_ca_cert"></a> [kubernetes\_ca\_cert](#output\_kubernetes\_ca\_cert) | n/a |
| <a name="output_master_asg_name"></a> [master\_asg\_name](#output\_master\_asg\_name) | n/a |
| <a name="output_master_internal_elb_name"></a> [master\_internal\_elb\_name](#output\_master\_internal\_elb\_name) | n/a |
| <a name="output_master_launch_template_name"></a> [master\_launch\_template\_name](#output\_master\_launch\_template\_name) | n/a |
| <a name="output_master_role_name"></a> [master\_role\_name](#output\_master\_role\_name) | n/a |
| <a name="output_master_sg_ids"></a> [master\_sg\_ids](#output\_master\_sg\_ids) | The security group which used by K8S master |
| <a name="output_service_account_pub_key"></a> [service\_account\_pub\_key](#output\_service\_account\_pub\_key) | n/a |
| <a name="output_vpc_id"></a> [vpc\_id](#output\_vpc\_id) | The VPC id used by K8S |
| <a name="output_worker_sg_ids"></a> [worker\_sg\_ids](#output\_worker\_sg\_ids) | The security gruop for worker group |
